# Configuración de Entorno (ToProccess)
# Fecha: 2026-02-02T14:48:47.466Z
# Este archivo contiene TODAS las variables configurables de la aplicación.

# --- CONFIGURACIÓN GENERAL DE LA APLICACIÓN ---
# Entorno de ejecución (development, production, test)
NODE_ENV=development
# Puerto del servidor
APP_PORT=3000
# Host del servidor
APP_HOST=localhost
# Nombre de la aplicación
APP_NAME=toproc
# Idioma por defecto (es, en)
APP_LANG=es
# Modo del frontend (none, spa, next)
APP_FRONTEND_MODE=none
# Url del frontend (útil para despliegues tras Nginx/AWS y tokens via email)
APP_FRONTEND_URL=http://localhost:4200
# Confiar en proxies (utile para despliegues tras Nginx/AWS)
APP_TRUST_PROXY=false

# --- BASE DE DATOS (PostgreSQL) ---
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=secret
PGDATABASE=app_db
# Usar SSL para la conexión (true/false, o 'no-verify', etc.)
PGSSL=false

# --- SESIONES Y SEGURIDAD ---
# Secreto para firmar cookies de sesión (¡CAMBIAR EN PRODUCCIÓN!)
SESSION_SECRET=change_me_super_secret_key
# Esquema y tabla donde se guardan sesiones
SESSION_SCHEMA=security
SESSION_TABLE=sessions
# Configuración de Cookie
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_SAMESITE=lax
SESSION_COOKIE_MAXAGE_MS=1800000

# --- MÓDULO DE AUTENTICACIÓN ---
AUTH_ENABLE=true
# Identificador de login (email, username)
AUTH_LOGIN_ID=email
# IDs de perfiles básicos
AUTH_PUBLIC_PROFILE_ID=1
AUTH_SESSION_PROFILE_ID=1
# Seguridad adicional
AUTH_LOGIN_2STEP_NEW_DEVICE=false
AUTH_REQUIRE_EMAIL_VERIFICATION=true

# Cookies de Dispositivo y Tiempos Expiración
AUTH_DEVICE_COOKIE_NAME=device_token
AUTH_DEVICE_COOKIE_MAX_AGE_MS=15552000000

# Rate Limits y Desafíos (Segundos / Intentos)
AUTH_LOGIN_CHALLENGE_EXPIRES_SEC=600
AUTH_LOGIN_CHALLENGE_MAX_ATTEMPTS=5

AUTH_PASSWORD_RESET_EXPIRES_SEC=900
AUTH_PASSWORD_RESET_MAX_ATTEMPTS=5

AUTH_EMAIL_VERIFY_EXPIRES_SEC=900
AUTH_EMAIL_VERIFY_MAX_ATTEMPTS=5

# --- SERVICIO DE EMAIL (SMTP) ---
# Modos: 'log' (consola) o 'smtp' (envío real)
EMAIL_MODE=log
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=user@gmail.com
SMTP_PASS=secret
SMTP_SECURE=false
SMTP_FROM=noreply@app.com

# --- LOGGING ---
LOG_FORMAT=text

# --- CORS (Cross-Origin Resource Sharing) ---
CORS_ENABLED=true
CORS_CREDENTIALS=true
CORS_ORIGINS=http://localhost:5173,http://localhost:4200
